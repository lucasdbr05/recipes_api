pr:
  - main

jobs:
  - job: Lint
    steps:
      - checkout: self
        fetchDepth: 0

    steps:
    - task: UseDotNet@2
      displayName: 'Install .NET Core SDK'
      inputs:
        version: 8.x
        performMultiLevelLookup: true
        includePreviewVersions: true 

    variables:
      project: recipes_api.sln

    steps:
    - task: DotNetCoreCLI@2
      inputs:
        command: 'restore $(project)'
        feedsToUse: 'select'
        vstsFeed: 'my-vsts-feed'
        
    - task: DotNetCoreCLI@2
      inputs:
        command: 'format $(project)'